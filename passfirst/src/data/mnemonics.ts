import type { MnemonicCard } from '@/types';

export const MNEMONICS: MnemonicCard[] = [
  {
    id: 'mn-deep-c',
    topicId: 'bundle-of-rights',
    sectionId: 'property-ownership',
    title: 'DEEP-C â€” Bundle of Rights',
    type: 'acronym',
    content: 'DEEP-C',
    expansion: [
      'D â€” Disposition (sell, give, or will it)',
      'E â€” Enjoyment (use it however you like)',
      'E â€” Exclusion (keep others off)',
      'P â€” Possession (physically occupy it)',
      'C â€” Control (decide how it\'s used)',
    ],
    dannyNote: 'When eminent domain takes your land, the government removes ALL five rights. When zoning restricts use, it only limits Control and Enjoyment. That distinction shows up on the exam constantly.',
    icon: 'ğŸŒŠ',
  },
  {
    id: 'mn-pete',
    topicId: 'police-power',
    sectionId: 'government-powers',
    title: 'PETE â€” The 4 Government Powers',
    type: 'acronym',
    content: 'PETE',
    expansion: [
      'P â€” Police Power (zoning, building codes â€” NO compensation)',
      'E â€” Eminent Domain (takes property FOR public use â€” WITH compensation)',
      'T â€” Taxation (ad valorem taxes on assessed value)',
      'E â€” Escheat (property reverts to state when owner dies with no heirs)',
    ],
    dannyNote: 'PETE is worth 5% of your exam score. Every single letter shows up. The key distinction: Police Power = no pay. Eminent Domain = must pay. I missed a question on that once.',
    icon: 'ğŸ›ï¸',
  },
  {
    id: 'mn-old-car',
    topicId: 'fiduciary-duties',
    sectionId: 'agency',
    title: 'OLD CAR â€” Agent Fiduciary Duties',
    type: 'acronym',
    content: 'OLD CAR',
    expansion: [
      'O â€” Obedience (follow all LAWFUL instructions)',
      'L â€” Loyalty (client\'s interests come FIRST â€” even before your own)',
      'D â€” Disclosure (share all material facts)',
      'C â€” Confidentiality (protect client\'s private info, even AFTER the deal)',
      'A â€” Accounting (handle money carefully, no commingling)',
      'R â€” Reasonable Care (use your professional skill)',
    ],
    dannyNote: 'Agency questions make up 17% of the national exam. OLD CAR is the single most testable thing in that section. Loyalty and Confidentiality are the ones that trick people â€” Confidentiality survives the end of the agency relationship.',
    icon: 'ğŸš—',
  },
  {
    id: 'mn-calm',
    topicId: 'contract-essentials',
    sectionId: 'contracts',
    title: 'CALM â€” Elements of a Valid Contract',
    type: 'acronym',
    content: 'CALM',
    expansion: [
      'C â€” Competent parties (legal age, sound mind)',
      'A â€” Agreement (offer + acceptance = mutual assent)',
      'L â€” Lawful purpose (can\'t contract to do something illegal)',
      'M â€” Money/consideration (something of value exchanged)',
    ],
    dannyNote: 'Real estate contracts also require writing (Statute of Frauds). A verbal real estate deal is unenforceable. If a question says "the parties verbally agreed" â€” it\'s either void or unenforceable. Always.',
    icon: 'ğŸ“‹',
  },
  {
    id: 'mn-fresh-nc',
    topicId: 'protected-classes',
    sectionId: 'fair-housing',
    title: 'FRESH NC â€” Fair Housing Protected Classes',
    type: 'acronym',
    content: 'FRESH NC',
    expansion: [
      'F â€” Familial Status (families with children under 18)',
      'R â€” Race',
      'E â€” rEligion',
      'S â€” Sex (gender)',
      'H â€” Handicap / Disability',
      'N â€” National Origin',
      'C â€” Color',
    ],
    dannyNote: 'There are SEVEN protected classes â€” not six! Race and Color are always listed separately. That catches so many people. Also: sexual orientation is NOT a federal protected class (though some states add it). Know what the FEDERAL law says.',
    icon: 'ğŸ˜ï¸',
  },
  {
    id: 'mn-mci',
    topicId: 'three-approaches',
    sectionId: 'valuation',
    title: 'MCI â€” Three Approaches to Value',
    type: 'acronym',
    content: 'MCI',
    expansion: [
      'M â€” Market / Sales Comparison (compare to recent sales of similar properties)',
      'C â€” Cost Approach (land value + replacement cost âˆ’ depreciation)',
      'I â€” Income Approach (used for income-producing properties; NOI Ã· cap rate)',
    ],
    dannyNote: 'The exam loves asking "which approach is most appropriate?" The answer pattern is: residential = Market. Commercial / rental = Income. Unique / new / special-use = Cost. Never use Cost for income property unless it\'s brand new.',
    icon: 'ğŸ“Š',
  },
  {
    id: 'mn-deed-trio',
    topicId: 'deed-types',
    sectionId: 'property-transfer',
    title: 'The Deed Trio â€” Warranty to Quitclaim',
    type: 'story',
    content: 'General Wanda guarantees EVERYTHING. Special Steve only guarantees HIS time. Quit-claim Quinn just quits and leaves.',
    dannyNote: 'On the exam: "most protection" = General Warranty. "used in divorces / clearing title" = Quitclaim. "seller only warrants against claims during their ownership" = Special Warranty. If you see "grantor makes the strongest covenants" â†’ General Warranty Deed.',
    icon: 'ğŸ”‘',
  },
  {
    id: 'mn-joint-tenancy',
    topicId: 'concurrent-ownership',
    sectionId: 'property-ownership',
    title: '4 Unities of Joint Tenancy (TTIP)',
    type: 'acronym',
    content: 'TTIP',
    expansion: [
      'T â€” Time (all owners acquired at the same time)',
      'T â€” Title (all owners received title in the same deed)',
      'I â€” Interest (all owners have equal shares)',
      'P â€” Possession (all owners have equal right to possession)',
    ],
    dannyNote: 'If any of the 4 unities is broken, Joint Tenancy converts to Tenancy in Common. Sell your share to a stranger? You break Time and Title â€” now your share is TIC. The other co-owners keep their Joint Tenancy between themselves.',
    icon: 'ğŸ‘¥',
  },
  {
    id: 'mn-maria',
    topicId: 'encumbrances',
    sectionId: 'property-ownership',
    title: 'MARIA â€” The Fixture Test',
    type: 'acronym',
    content: 'MARIA',
    expansion: [
      'M â€” Method of attachment (how permanently is it attached?)',
      'A â€” Adaptability (is it custom-built for this property?)',
      'R â€” Relationship of parties (buyer/seller vs landlord/tenant)',
      'I â€” Intent (did the owner intend it to be permanent?)',
      'A â€” Agreement (what does the written agreement say?)',
    ],
    dannyNote: 'Fixture questions: "does item X stay with the property?" The most important factor is usually Intent, but Agreement always overrides everything if there\'s written language. Built-in appliances = almost always fixtures. Free-standing fridge = usually personal property.',
    icon: 'ğŸ”§',
  },
  {
    id: 'mn-pfe',
    topicId: 'depreciation',
    sectionId: 'valuation',
    title: 'PFE â€” Three Types of Depreciation',
    type: 'acronym',
    content: 'PFE',
    expansion: [
      'P â€” Physical deterioration (wear, tear, age, deferred maintenance)',
      'F â€” Functional obsolescence (poor design, outdated features, weird floor plan)',
      'E â€” External / Economic obsolescence (outside factors: highway noise, polluting factory nearby)',
    ],
    dannyNote: 'External obsolescence is always INCURABLE â€” you can\'t fix a noisy highway. Functional can be curable (add a second bathroom) or incurable (ceiling height too low). Physical can also be curable (fix the broken pipe) or incurable (foundation crumbling).',
    icon: 'ğŸ“‰',
  },
  {
    id: 'mn-steering-blockbusting',
    topicId: 'prohibited-practices',
    sectionId: 'fair-housing',
    title: 'Steering vs. Blockbusting (The Terrible Twins)',
    type: 'story',
    content: 'The Steer directs you where to live. The Block-Buster shatters a neighborhood by fear to profit.',
    expansion: [
      'Steering â€” guiding buyers TOWARD or AWAY FROM neighborhoods based on race/religion/etc.',
      'Blockbusting â€” encouraging owners to sell cheap by suggesting a protected class is "moving in" (panic peddling)',
      'Redlining â€” refusing loans in certain neighborhoods based on racial composition',
    ],
    dannyNote: 'These three always appear together as a question set. Key distinction: steering is about the BUYER\'s destination. Blockbusting is about the SELLER\'s fear. Redlining is about the BANK\'s refusal. Real estate agents commit steering most often â€” that\'s the most-tested.',
    icon: 'ğŸš«',
  },
  {
    id: 'mn-loan-types',
    topicId: 'loan-types',
    sectionId: 'financing',
    title: 'FHA / VA / Conventional â€” At a Glance',
    type: 'story',
    content: 'FHA is for First-timers with low down. VA is for Veterans (no down, no PMI). Conventional is for everyone else.',
    expansion: [
      'FHA: 3.5% min down payment (580+ score); requires MIP (mortgage insurance premium)',
      'VA: 0% down; no PMI; for eligible veterans, active duty, surviving spouses; has funding fee',
      'Conventional: 5â€“20% typical down; PMI required if <20% down; no upfront insurance',
    ],
    dannyNote: '"Which loan has no down payment requirement?" = VA. Every time. The VA funding fee trips people up â€” VA loans are NOT free of ALL fees, just free of monthly PMI. Also: FHA loans have both an upfront MIP AND an annual MIP. Conventional PMI can be cancelled once you hit 20% equity.',
    icon: 'ğŸ’µ',
  },

  // â”€â”€ Expanded content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  {
    id: 'mn-eminent-domain',
    topicId: 'eminent-domain',
    sectionId: 'government-powers',
    title: 'Just Compensation â€” Eminent Domain',
    type: 'story',
    content: 'The government TAKES, so it must COMPENSATE. No free lunch â€” fair market value, period.',
    dannyNote: '"Just compensation" = fair market value. NOT replacement value. NOT what the owner thinks it\'s worth. NOT what they originally paid. Fair. Market. Value. If you think the government underpaid, you go to condemnation court â€” the taking still happens, you just argue about the price.',
    icon: 'ğŸ›ï¸',
  },
  {
    id: 'mn-appraisal-principles',
    topicId: 'appraisal-principles',
    sectionId: 'valuation',
    title: 'SCAR â€” Core Appraisal Principles',
    type: 'acronym',
    content: 'SCAR',
    expansion: [
      'S â€” Substitution (pay no more than an equally good substitute â€” the FOUNDATION)',
      'C â€” Contribution (how much does THIS feature actually add to market value?)',
      'A â€” Anticipation (future benefits/problems affect present value)',
      'R â€” Regression & Progression (neighborhood drags value down or lifts it up)',
    ],
    dannyNote: 'Substitution is tested more than any other principle. The three appraisal approaches each depend on it: Sales Comparison = find a substitute sale. Cost = what would it cost to substitute with a new building? Income = investors substitute this property with other income-producing alternatives.',
    icon: 'ğŸ“',
  },
  {
    id: 'mn-mortgage-note',
    topicId: 'mortgage-instruments',
    sectionId: 'financing',
    title: 'Note vs. Mortgage â€” Two Documents, One Loan',
    type: 'story',
    content: 'The NOTE is your "I owe you." The MORTGAGE is "or else you get my house."',
    expansion: [
      'Promissory Note = the debt; personal promise to repay; creates personal liability',
      'Mortgage / Deed of Trust = the collateral; secures the note against the property',
      'No note = no debt. No mortgage = no security (unsecured loan).',
      'Cannot have a mortgage WITHOUT a note. Note can exist without a mortgage.',
    ],
    dannyNote: 'I kept mixing these up until I thought of it this way: the NOTE is what you\'re legally obligated to pay. The MORTGAGE is what the lender holds over your head â€” "pay the note or we foreclose on the mortgage." They work together but they\'re different documents.',
    icon: 'ğŸ“„',
  },
  {
    id: 'mn-foreclosure',
    topicId: 'foreclosure',
    sectionId: 'financing',
    title: 'Judicial vs. Non-Judicial Foreclosure',
    type: 'acronym',
    content: 'J vs. NJ',
    expansion: [
      'J (Judicial) = Judge required; court-ordered sale; used in mortgage states; borrower has more rights',
      'NJ (Non-Judicial) = No Judge; power-of-sale clause; trustee sells; used in deed of trust states; faster',
      'Statutory redemption = right to buy back AFTER the sale (judicial states only)',
      'Equity of redemption = right to pay off debt BEFORE the sale (all states)',
    ],
    dannyNote: 'If a question asks about foreclosure and you see "deed of trust" â†’ it\'s non-judicial. "Mortgage" â†’ likely judicial. The exam also loves the difference between equity of redemption (before sale, everyone) vs. statutory redemption (after sale, judicial states only).',
    icon: 'âš–ï¸',
  },
  {
    id: 'mn-agency-relationships',
    topicId: 'agency-relationships',
    sectionId: 'agency',
    title: 'Client vs. Customer â€” The Critical Agency Divide',
    type: 'story',
    content: 'A CLIENT hired you. A CUSTOMER is just shopping. You owe your CLIENT everything. You owe your CUSTOMER honesty.',
    expansion: [
      'Client = signed agency agreement = principal = fiduciary duties (OLD CAR)',
      'Customer = no agreement = just being helped = honest dealing only',
      'Agency disclosure = required to tell parties whether you represent them or not',
    ],
    dannyNote: 'Most exam scenarios involve someone confused about who the agent represents. Key: without a signed agreement, the buyer walking through an open house is a CUSTOMER â€” not your client. The listing agent\'s client is the SELLER. This trips up nearly everyone.',
    icon: 'ğŸ¤',
  },
  {
    id: 'mn-dual-agency',
    topicId: 'dual-agency',
    sectionId: 'agency',
    title: 'Dual Agency â€” The Loyalty Problem',
    type: 'acronym',
    content: 'DICE',
    expansion: [
      'D â€” Disclose the dual agency relationship to BOTH parties',
      'I â€” Inform both parties of what dual agency means (limited loyalty)',
      'C â€” Consent in writing from BOTH parties before proceeding',
      'E â€” Expect to give up full loyalty to either side',
    ],
    dannyNote: 'Without all four, it\'s an undisclosed dual agency â€” automatic license violation. The agent can\'t push either party hard or share confidential info. They become a "neutral" facilitator. Many states now prefer designated agency (different agents in the same office each represent one party) to avoid the conflict entirely.',
    icon: 'âš¡',
  },
  {
    id: 'mn-contract-types',
    topicId: 'contract-types',
    sectionId: 'contracts',
    title: 'Contract Status â€” Void, Voidable, Unenforceable',
    type: 'story',
    content: 'VOID = zombie (dead on arrival). VOIDABLE = alive but one party has an escape hatch. UNENFORCEABLE = real but the court won\'t help.',
    expansion: [
      'Void = no legal effect, ever â€” as if it never existed (illegal purpose, no consideration)',
      'Voidable = valid until the protected party (minor, fraud victim) chooses to cancel',
      'Unenforceable = contract exists but court won\'t enforce it (Statute of Frauds â€” oral real estate deal)',
      'Valid = all CALM elements present, in writing â€” fully enforceable',
    ],
    dannyNote: 'Voidable is the most-tested status. Remember: only the PROTECTED party can void a voidable contract. A minor can void a contract, but the adult cannot use the minor\'s age to escape. Once the minor turns 18 and doesn\'t cancel, the contract can become ratified.',
    icon: 'ğŸ“‹',
  },
  {
    id: 'mn-purchase-agreement',
    topicId: 'purchase-agreement',
    sectionId: 'contracts',
    title: 'FIA â€” The Big Three Contingencies',
    type: 'acronym',
    content: 'FIA',
    expansion: [
      'F â€” Financing contingency (can\'t get the loan â†’ buyer gets earnest money back)',
      'I â€” Inspection contingency (major defect found â†’ buyer can negotiate or exit)',
      'A â€” Appraisal contingency (home appraises below purchase price â†’ buyer exits or renegotiates)',
    ],
    dannyNote: 'Contingencies are buyer protections. Sellers hate them; buyers need them. On the exam: if a contingency is "properly invoked," the buyer gets their earnest money back. If the buyer backs out WITHOUT invoking a valid contingency, the seller usually keeps the earnest money as liquidated damages.',
    icon: 'ğŸ›¡ï¸',
  },
  {
    id: 'mn-exemptions',
    topicId: 'exemptions',
    sectionId: 'fair-housing',
    title: 'Fair Housing Exemptions â€” ROSIE',
    type: 'acronym',
    content: 'ROSIE',
    expansion: [
      'R â€” Religious organizations (non-commercial housing to own members)',
      'O â€” Owner-occupied building of 4 units or fewer (Mrs. Murphy) â€” no agent, no discriminatory ads',
      'S â€” Single-family home sold/rented by private owner â€” no agent, no discriminatory ads',
      'I â€” Intended for 55+ / senior housing communities',
      'E â€” Everyone else must comply fully',
    ],
    dannyNote: 'Two things kill ANY exemption: (1) Using a real estate agent or broker in any way. (2) Running discriminatory advertising. Even the widowed grandmother in her own home who qualifies for Mrs. Murphy exemption loses it the moment she calls a Realtor OR puts a discriminatory ad.',
    icon: 'ğŸŒ¹',
  },
  {
    id: 'mn-title-insurance',
    topicId: 'title-insurance',
    sectionId: 'property-transfer',
    title: 'OL â€” Owner\'s vs. Lender\'s Title Policy',
    type: 'acronym',
    content: 'OL',
    expansion: [
      'O â€” Owner\'s policy: protects the BUYER against hidden title defects (forgery, unknown heirs, errors)',
      'L â€” Lender\'s (mortgagee\'s) policy: protects the LENDER up to the outstanding loan balance',
      'Both are typically purchased at closing; one-time premium; no annual renewals',
      'Lender\'s policy â‰  buyer protection. Buyer must purchase their OWN policy.',
    ],
    dannyNote: 'This is one of the most common exam traps. Students assume that if a title policy was purchased at closing, they\'re covered. But if it was only the lender\'s policy, the BUYER has zero protection. The lender\'s policy actually decreases as the loan is paid down â€” it\'s for the bank, not you.',
    icon: 'ğŸ”',
  },
  {
    id: 'mn-closing-proration',
    topicId: 'closing-process',
    sectionId: 'property-transfer',
    title: 'Proration Direction â€” Arrears vs. Advance',
    type: 'story',
    content: 'Paid in ARREARS (after the period)? Seller credits buyer. Paid in ADVANCE (before the period)? Seller gets a credit FROM the buyer.',
    expansion: [
      'Taxes in arrears: seller hasn\'t paid their share â†’ debit to seller, credit to buyer',
      'Prepaid insurance / HOA: seller already paid ahead â†’ debit to buyer, credit to seller',
      'Rent: tenant paid month in advance â†’ seller collected more than their share â†’ credit to buyer',
      'Formula: daily rate = annual amount Ã· 365 (or 360 for some states)',
    ],
    dannyNote: 'Just remember who had the money and who owes who. If the seller used the property during a period they haven\'t yet paid for (arrears) â€” they OWE the buyer. If the seller pre-paid for a period the buyer will enjoy (advance) â€” the buyer OWES the seller. Draw it out on scratch paper in the exam.',
    icon: 'ğŸ’¹',
  },
];

export const getMnemonicsBySection = (sectionId: string) =>
  MNEMONICS.filter((m) => m.sectionId === sectionId);

export const getMnemonicsByTopic = (topicId: string) =>
  MNEMONICS.filter((m) => m.topicId === topicId);
